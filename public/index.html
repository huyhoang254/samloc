<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S√¢m L·ªëc - Online Card Game</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <!-- Login Screen -->
    <div id="login-screen" class="screen active">
        <div class="container">
            <h1>üé¥ S√¢m L·ªëc Online</h1>
            <div class="card">
                <h2>Ch√†o m·ª´ng!</h2>
                <div class="form-group">
                    <label for="player-name">T√™n ng∆∞·ªùi ch∆°i:</label>
                    <input type="text" id="player-name" placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n" maxlength="20" autofocus>
                </div>
                <button id="btn-connect" class="btn btn-primary">V√†o game</button>
            </div>
        </div>
    </div>

    <!-- Lobby Screen -->
    <div id="lobby-screen" class="screen">
        <div class="container">
            <div class="header">
                <h1>üé¥ S√¢m L·ªëc</h1>
                <div class="player-info">
                    <span id="player-info-name"></span>
                    <span id="player-info-score" class="score"></span>
                </div>
            </div>

            <div class="lobby-content">
                <!-- Create Room Panel -->
                <div class="panel">
                    <h2>T·∫°o ph√≤ng m·ªõi</h2>
                    <div class="form-group">
                        <label>T√™n ph√≤ng:</label>
                        <input type="text" id="room-name" placeholder="Ph√≤ng c·ªßa t√¥i">
                    </div>
                    <div class="form-group">
                        <label>Lo·∫°i ph√≤ng:</label>
                        <select id="room-type">
                            <option value="public">C√¥ng khai</option>
                            <option value="private">Ri√™ng t∆∞</option>
                        </select>
                    </div>
                    <div class="form-group" id="password-group" style="display: none;">
                        <label>M·∫≠t kh·∫©u:</label>
                        <input type="password" id="room-password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u">
                    </div>
                    <div class="form-group">
                        <label>S·ªë ng∆∞·ªùi ch∆°i:</label>
                        <select id="max-players">
                            <option value="2">2 ng∆∞·ªùi</option>
                            <option value="3">3 ng∆∞·ªùi</option>
                            <option value="4" selected>4 ng∆∞·ªùi</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>C∆∞·ª£c (ƒëi·ªÉm):</label>
                        <input type="number" id="bet-amount" value="0" min="0" step="100">
                    </div>
                    <button id="btn-create-room" class="btn btn-primary">T·∫°o ph√≤ng</button>
                </div>

                <!-- Available Rooms -->
                <div class="panel">
                    <div class="panel-header">
                        <h2>Ph√≤ng c√≥ s·∫µn</h2>
                        <button id="btn-refresh-rooms" class="btn btn-small">üîÑ L√†m m·ªõi</button>
                    </div>
                    <div id="rooms-list" class="rooms-list">
                        <p class="text-muted">ƒêang t·∫£i danh s√°ch ph√≤ng...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Room Screen -->
    <div id="room-screen" class="screen">
        <div class="container">
            <div class="header">
                <div>
                    <h2 id="room-title">Ph√≤ng</h2>
                    <p id="room-id" class="text-muted"></p>
                </div>
                <button id="btn-leave-room" class="btn btn-secondary">R·ªùi ph√≤ng</button>
            </div>

            <div class="room-content">
                <!-- Players in Room -->
                <div class="panel">
                    <h3>Ng∆∞·ªùi ch∆°i (<span id="player-count">0</span>/<span id="max-player-count">4</span>)</h3>
                    <div id="room-players-list" class="players-list"></div>
                    <div style="display: flex; gap: 10px; margin-top: 15px;">
                        <button id="btn-add-bot" class="btn btn-secondary" style="display: none;">ü§ñ Th√™m Bot</button>
                        <button id="btn-start-game" class="btn btn-primary" style="display: none;">B·∫Øt ƒë·∫ßu</button>
                    </div>
                </div>

                <!-- Chat -->
                <div class="panel">
                    <h3>Chat</h3>
                    <div id="chat-messages" class="chat-messages"></div>
                    <div class="chat-input-group">
                        <input type="text" id="chat-input" placeholder="Nh·∫≠p tin nh·∫Øn...">
                        <button id="btn-send-chat" class="btn btn-small">G·ª≠i</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="screen">
        <div class="game-container">
            <!-- Game Info -->
            <div class="game-info">
                <div class="info-item">
                    <span>Ph√≤ng: <strong id="game-room-id"></strong></span>
                </div>
                <div class="info-item">
                    <span id="current-turn-info">ƒêang ch·ªù...</span>
                </div>
                <div class="info-item">
                    <span id="sam-declarer-info"></span>
                </div>
            </div>

            <!-- Game Table -->
            <div class="game-table">
                <!-- Other Players -->
                <div class="other-players">
                    <div id="player-slot-1" class="player-slot"></div>
                    <div id="player-slot-2" class="player-slot"></div>
                    <div id="player-slot-3" class="player-slot"></div>
                </div>

                <!-- Play Area (Center of table) -->
                <div class="play-area">
                    <div class="last-played">
                        <div id="last-played-cards" class="cards-display"></div>
                        <p id="last-played-info" style="color: white; text-shadow: 1px 1px 2px #000;"></p>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button id="btn-play-cards" class="btn btn-primary" disabled>ƒê√°nh b√†i</button>
                <button id="btn-pass" class="btn btn-secondary" disabled>B·ªè l∆∞·ª£t</button>
                <button id="btn-declare-sam" class="btn btn-warning" style="display: none;">B√°o S√¢m</button>
                <button id="btn-declare-one" class="btn btn-warning" style="display: none;">B√°o 1</button>
            </div>

            <!-- History -->
            <div class="game-history">
                <h4>L·ªãch s·ª≠ ƒë√°nh b√†i</h4>
                <div id="history-list" class="history-list"></div>
            </div>

            <!-- Player's Hand -->
            <div class="player-hand">
                <h3>B√†i c·ªßa b·∫°n (<span id="hand-count">0</span> l√°)</h3>
                <div id="player-cards" class="cards-hand"></div>
            </div>

            <!-- Chat in Game -->
            <div class="game-chat">
                <div id="game-chat-messages" class="chat-messages"></div>
                <div class="chat-input-group">
                    <input type="text" id="game-chat-input" placeholder="Chat...">
                    <button id="btn-game-send-chat" class="btn btn-small">üì§</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Game End Modal -->
    <div id="game-end-modal" class="modal">
        <div class="modal-content">
            <h2 id="game-end-title">K·∫øt th√∫c v√°n</h2>
            <div id="game-end-info"></div>
            <div id="scores-table"></div>
            <div class="modal-actions">
                <button id="btn-play-again" class="btn btn-primary">Ch∆°i l·∫°i</button>
                <button id="btn-back-to-lobby" class="btn btn-secondary">V·ªÅ s·∫£nh</button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading" class="loading" style="display: none;">
        <div class="spinner"></div>
        <p>ƒêang k·∫øt n·ªëi...</p>
    </div>

    <!-- Scripts -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/socket.js"></script>
    <script src="/js/game.js"></script>
    <script src="/js/app.js"></script>
</body>
</html>
